<!DOCTYPE html>
<html>

<head>
    <title>Edge Detection with TensorFlow.js</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
</head>

<body>
    <video id="webcam" autoplay width="640" height="480"></video>
    <canvas id="output" width="640" height="480"></canvas>

    <script>
        const script = document.createElement('script');
        const searchParams = window.location.search;
        script.src = 'handle_model.js';
        let path = null;
        let size = null;
        let output_block = null;

        switch (true) {
            case searchParams.includes('?3'):
                path = 'model_3l_tfjs/model.json';
                size = 512;
                output_block = 3;
                break;
            case searchParams.includes('?teed16'):
                path = 'teed_model_tfjs_16/model.json';
                size = 352;
                output_block = 3;
                break;
            case searchParams.includes('?teed'):
                path = 'teed_model_tfjs/model.json';
                size = 352;
                output_block = 3;
                break;
            case searchParams.includes('?teed_tflite'):
                path = 'teed.tflite';
                size = 352;
                output_block = 3;
                break;
            default:
                path = 'model_2l_tfjs/model.json';
                output_block = 2;
                size = 352;
                break;
        }


        script.src = 'handle_model.js';
        
        document.head.appendChild(script);
    </script>

    <script></script>
</body>

</html>